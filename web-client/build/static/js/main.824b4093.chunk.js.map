{"version":3,"sources":["pages/Login.js","pages/Signup.js","pages/Mypage.js","App.js","index.js"],"names":["axios","defaults","withCredentials","Login","props","handleInputValue","key","e","setState","target","value","handleLogin","state","email","password","errorMessage","post","then","handleResponseSuccess","catch","console","log","bind","onSubmit","preventDefault","type","onChange","this","to","className","onClick","length","React","Component","withRouter","Signup","handleSignup","username","mobile","history","push","Mypage","userinfo","handleLogout","App","isLogin","get","data","path","render","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.824b4093.chunk.js","sourcesContent":["import React from \"react\";\nimport {Link, withRouter} from \"react-router-dom\";\nimport axios from \"axios\";\n\naxios.defaults.withCredentials = true;\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errorMessage: \"\"\n    };\n    this.handleInputValue = this.handleInputValue.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  handleInputValue = (key) => (e) => {\n    this.setState({[key]: e.target.value});\n  };\n\n  handleLogin = () => {\n    // TODO : 서버에 로그인을 요청하고, props로 전달된 callback을 호출합니다.\n    // TODO : 이메일 및 비밀번호를 입력하지 않았을 경우 에러를 표시해야 합니다.\n    if (this.state.email === '' ||\n        this.state.password === '') {\n      this.setState({\n        errorMessage: '이메일과 비밀번호를 입력하세요'\n      })\n    } else {\n      axios.post(\"https://3.35.231.200:4000/signin\", {\n        email: this.state.email,\n        password: this.state.password\n      }).then(() => {\n        this.props.handleResponseSuccess()\n      }).catch((e) => console.log(e))\n    }\n  };\n\n  render() {\n    return (\n        <div>\n          <center>\n            <h1>Sign In</h1>\n            <form onSubmit={(e) => e.preventDefault()}>\n              <div>\n                <span>이메일</span>\n                <input type='email' onChange={this.handleInputValue(\"email\")}/>\n              </div>\n              <div>\n                <span>비밀번호</span>\n                <input type='password' onChange={this.handleInputValue(\"password\")}/>\n              </div>\n              <div>\n                <Link to='/signup'>아직 아이디가 없으신가요?</Link>\n              </div>\n              <button className='btn btn-login' type='submit' onClick={this.handleLogin}>\n                로그인\n              </button>\n              {\n                this.state.errorMessage.length !== 0 ?\n                    <div className=\"alert-box\">이메일과 비밀번호를 입력하세요</div> :\n                    null\n              }\n            </form>\n          </center>\n        </div>\n    );\n  }\n}\n\nexport default withRouter(Login);\n","import React from \"react\";\nimport {withRouter, Link} from \"react-router-dom\";\nimport axios from \"axios\";\n\naxios.defaults.withCredentials = true;\n\nclass Signup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      username: \"\",\n      mobile: \"\",\n      errorMessage: \"\"\n    };\n    this.handleInputValue = this.handleInputValue.bind(this);\n  }\n\n  handleInputValue = (key) => (e) => {\n    this.setState({[key]: e.target.value});\n  };\n\n  handleSignup = () => {\n    // TODO : 서버에 회원가입을 요청 후 로그인 페이지로 이동하세요.\n    //        회원가입 성공 후 로그인 페이지 이동은 다음 코드를 이용하세요.\n    //\n    //        this.props.history.push(\"/\");\n    //\n    // TODO : 모든 항목을 입력하지 않았을 경우 에러를 표시해야 합니다.\n    if (this.state.email === '' ||\n        this.state.password === '' ||\n        this.state.username === '' ||\n        this.state.mobile === '') {\n      this.setState({\n        errorMessage: '모든 항목은 필수입니다'\n      })\n    }else{\n      axios.post(\"https://3.35.231.200:4000/signup\", {\n        email: this.state.email,\n        password: this.state.password,\n        username: this.state.username,\n        mobile: this.state.mobile\n      }).then(()=>this.props.history.push(\"/\"))\n          .catch(e=>console.log(e))\n    }\n  }\n\n  render() {\n    return (\n        <div>\n          <center>\n            <h1>Sign Up</h1>\n            <form onSubmit={(e) => e.preventDefault()}>\n              <div>모든 항목은 필수입니다</div>\n              <div>\n                <span>이메일</span>\n                <input\n                    type=\"email\"\n                    onChange={this.handleInputValue(\"email\")}\n                />\n              </div>\n              <div>\n                <span>비밀번호</span>\n                <input\n                    type=\"password\"\n                    onChange={this.handleInputValue(\"password\")}\n                />\n              </div>\n              <div>\n                <span>이름</span>\n                <input\n                    type='text'\n                    onChange={this.handleInputValue(\"username\")}\n                />\n              </div>\n              <div>\n                <span>전화번호</span>\n                <input\n                    type='tel'\n                    onChange={this.handleInputValue(\"mobile\")}\n                />\n              </div>\n              <div>\n                <Link to='/login'>이미 아이디가 있으신가요?</Link>\n              </div>\n              <button\n                  className=\"btn btn-signup\"\n                  type='submit'\n                  onClick={this.handleSignup}\n              >\n                회원가입\n              </button>\n              {\n                this.state.errorMessage.length !== 0 ?\n                    <div className=\"alert-box\">모든 항목은 필수입니다</div> :\n                    null\n              }\n            </form>\n          </center>\n        </div>\n    );\n  }\n}\n\nexport default withRouter(Signup);\n","import React from 'react';\n\nfunction Mypage(props) {\n  return props.userinfo == null ? (\n      <div></div>\n  ) : (\n      <div>\n        <div>\n          <h1>Mypage</h1>\n          <button className='btn-logout' onClick={props.handleLogout}>\n            logout\n          </button>\n        </div>\n        <hr/>\n        <div>\n          <div className='username'>{props.userinfo.username}</div>\n          <div className='email'>{props.userinfo.email}</div>\n          <div className='mobile'>{props.userinfo.mobile}</div>\n        </div>\n      </div>\n  );\n}\n\nexport default Mypage;","import React from \"react\";\nimport {Switch, Route, Redirect, withRouter} from \"react-router-dom\";\n\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport Mypage from \"./pages/Mypage\";\nimport axios from \"axios\";\n\n\nclass App extends React.Component {\n  state = {\n    isLogin: false,\n    userinfo: null,\n  };\n\n\n  handleResponseSuccess() {\n    // TODO: 이제 인증은 성공했습니다. 사용자 정보를 호출하고, 이에 성공하면 로그인 상태를 바꿉시다.\n    axios.defaults.withCredentials = true;\n    axios.get(\"https://3.35.231.200:4000/user\")\n        .then(data => {\n          this.setState({\n            userinfo: data.data,\n            isLogin: !this.state.isLogin\n          })\n          console.log(this.state)\n        }).then(() => this.props.history.push(\"/\"))\n        // .catch(() => {\n        //   this.setState({\n        //     isLogin: !this.state.isLogin\n        //   })\n        //   this.props.history.push(\"/\")\n        // })\n  }\n\n  handleLogout(){\n    console.log(1111)\n    axios.defaults.withCredentials = true;\n    axios.post(\"https://3.35.231.200:4000/signout\")\n        .then(()=>{\n          this.setState({\n            isLogin: !this.state.isLogin,\n          })\n          this.props.history.push(\"/\")\n        })\n  };\n\n  render() {\n    const {isLogin, userinfo} = this.state;\n\n    return (\n        <div>\n          <Switch>\n            <Route\n                path='/login'\n                render={() => (\n                    <Login\n                        handleResponseSuccess={this.handleResponseSuccess.bind(this)}\n                    />\n                )}\n            />\n            <Route exact path='/signup' render={() => <Signup/>}/>\n            <Route\n                exact\n                path='/mypage'\n                render={() => <Mypage\n                    userinfo={userinfo}\n                    handleLogout={this.handleLogout.bind(this)}\n                />}\n            />\n            <Route\n                path='/'\n                render={() => {\n                  if (isLogin) {\n                    return <Redirect to='/mypage'/>;\n                  }\n                  return <Redirect to='/login'/>;\n                }}\n            />\n          </Switch>\n        </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}